<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/master.css">
  </head>
  <body>
    <script src="../lib/manifest.js"></script>
    <script src="../lib/box.js"></script>
    <script src="../lib/utility.js"></script>
    <script src="../lib/scene.js"></script>
    <script src="../lib/vector.js"></script>
    <script src="../lib/entity.js"></script>
    <script src="../lib/camera.js"></script>
    <script src="../lib/diorama.js"></script> 
        <!-- Scenes -->
    <script src="scenes/demo_scene.js"></script>
    <script type="text/javascript">      
    let m = createManifest();
    // A manifest will contain informations and assets to load for the projects
    m.set.scale(4);
    m.set.background("white");
    m.set.size(128, 128);
    // Add assets to be loaded
    m.add.image("bonhomme", "assets/sprites/bonhomme.png");
    m.add.image("box_texture", "assets/ui/box.png");
    m.add.image("nano_font", "assets/fonts/nano.png");
    m.add.image("demo_tileset", "assets/tileset/demo_tileset.png");
    // m.add.map("map_demo", "assets/maps/map_demo.json");
    // Add custom bitmap fonts and dialog boxes
    m.create.font("nano", "nano_font", 4, 6);
    m.create.box("box", "box_texture", 8);
    // Add scenes
    m.add.scene(demo);
    let game = new Diorama(m);
    // Prevent cross domain error for this demo
    // When running on a server, use manifestt.add.map("map_demo", "assets/maps/map_demo.json");
    game.maps["map_demo"] = JSON.parse('{ "height":10,"infinite":false,"layers":[{"data":[1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 1, 2, 1, 1, 2, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 1, 1, 1, 2, 1, 2, 1, 2, 1, 1, 1, 1, 1, 1],"height":10,"name":"ground","opacity":1,"type":"tilelayer","visible":true,"width":10,"x":0,"y":0},{"data":[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 4, 4, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 3, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3],"height":10,"name":"walls","offsetx":0,"offsety":-2,"opacity":1,"type":"tilelayer","visible":true,"width":10,"x":0,"y":0}],"nextobjectid":4,"orientation":"orthogonal","renderorder":"right-down","tiledversion":"1.1.6","tileheight":16,"tilesets":[{"columns":16,"firstgid":1,"image":"..\/tileset\/demo_tileset.png","imageheight":32,"imagewidth":256,"margin":0,"name":"demo_tileset","spacing":0,"tilecount":32,"tileheight":16,"tileproperties":{"2":{"collision":true,"line":1,"look":"bitmask"},"3":{"collision":true}},"tilepropertytypes":{"2":{"collision":"bool","line":"int","look":"string"},"3":{"collision":"bool"}},"tilewidth":16}],"tilewidth":16,"type":"map","version":1,"width":10}');
    </script>
  </body>
</html>